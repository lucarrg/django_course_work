{% extends 'coworking/base.html' %}

{% block title %}{{ workplace.name }}{% endblock %}

{% block content %}
<h1>{{ workplace.name }}</h1>

<p><strong>–¢–∏–ø —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞:</strong> {{ workplace.workplace_type }}</p>
<p><strong>–¶–µ–Ω–∞:</strong> {{ workplace.price_per_hour }} ‚ÇΩ/—á–∞—Å</p>

<h3>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞:</h3>
<div class="workplace-images">
    {% for image in workplace.images.all %}
        {% if image.image %}
            <div style="display: inline-block; margin-right: 10px; text-align: center;">
                <img
                    src="{{ image.image.url }}"
                    alt="{{ workplace.name }}"
                    style="max-width: 300px; border-radius: 6px;"
                >
                {% if user.is_staff %}
                    <br>
                    <a href="{% url 'coworking:workplace_image_delete' image.id %}">üóë –£–¥–∞–ª–∏—Ç—å</a>
                {% endif %}
            </div>
        {% endif %}
    {% empty %}
        <p>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
    {% endfor %}
</div>

{% if user.is_staff %}
<p>
    <a href="{% url 'coworking:workplace_update' workplace.id %}">‚úè –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ</a> |
    <a href="{% url 'coworking:workplace_delete' workplace.id %}">üóë –£–¥–∞–ª–∏—Ç—å —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ</a>
</p>
<p>
    <a href="{% url 'coworking:workplace_image_add' workplace.id %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</a>
</p>
{% endif %}

<h3>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
{% if user.is_authenticated %}
    {% if workplace.id in user_favorites %}
        <form method="post" action="{% url 'coworking:favorite_remove' workplace.id %}">
            {% csrf_token %}
            <button type="submit">üíî –£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</button>
        </form>
    {% else %}
        <form method="post" action="{% url 'coworking:favorite_add' workplace.id %}">
            {% csrf_token %}
            <button type="submit">‚ù§Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        </form>
    {% endif %}
{% else %}
    <p>–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, <a href="{% url 'accounts:login' %}">–≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</a>.</p>
{% endif %}
{% if user.is_authenticated %}
    {% if workplace.is_active %}
        <p>
            <a href="{% url 'coworking:booking_create' workplace.id %}">
                üóì –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –º–µ—Å—Ç–æ
            </a>
        </p>
    {% else %}
        <p style="color: gray;">
            üö´ –≠—Ç–æ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        </p>
    {% endif %}
{% else %}
    <p>
        –ß—Ç–æ–±—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å,
        <a href="{% url 'accounts:login' %}">–≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</a>.
    </p>
{% endif %}


<p>
    {% if workplace.coworking %}
        <a href="{% url 'coworking:coworking_detail' workplace.coworking.id %}">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–æ–≤–æ—Ä–∫–∏–Ω–≥—É</a>
    {% else %}
        <a href="{% url 'coworking:coworking_list' %}">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–æ–≤–æ—Ä–∫–∏–Ω–≥–æ–≤</a>
    {% endif %}
</p>

{% endblock %}
